<div class='container h-100'>
    <form class='d-flex h-100 flex-column justify-content-between my-4' [formGroup]='personalDataForm' (ngSubmit)='onSubmit()'>
        <mat-spinner *ngIf="isInitialLoading; else dataRef" class="align-self-center" [diameter]="20"></mat-spinner>
        <ng-template #dataRef>
            <div>
                <h1 class="mb-4">Asmeniniai duomenys</h1>

                <div class='mb-3 col-5'>
                    <label for="username">Slapyvardis</label>
                    <input class='form-control' id='username' type='text' placeholder='Slapyvardis'
                        formControlName='username'>
                </div>
                <div class='mb-3 col-5'>
                    <label for="email">El. paštas</label>
                    <input class='form-control' id='email' type='email' placeholder='El. paštas' formControlName='email'>
                </div>
                <div class='mb-3 col-5'>
                    <label for="firstName">Vardas</label>
                    <input class='form-control' id='firstName' type='text' placeholder='Vardas' formControlName='firstName'>
                </div>
                <div class='mb-3 col-5'>
                    <label for="lastName">Pavardė</label>
                    <input class='form-control' id='lastName' type='text' placeholder='Pavardė' formControlName='lastName'>
                </div>
                <div class='mb-3 col-5'>
                    <label for="birthday">Gimimo diena</label>
                    <input class='form-control' id='birthday' type='date' placeholder='Gimimo diena' formControlName='birthday'>
                </div>
                <div class='mb-3 col-5'>
                    <label for="username">Vartotojo tipas</label>
                    <select class="form-select" id="type" formControlName='typeId'>
                        <option [value]="userType.Tenant">Nuomininkas</option>
                        <option [value]="userType.Renter">Nuomuotojas</option>
                    </select>
                </div>
            </div>
            <div class="d-flex flex-row justify-content-between mb-5">
                <button class='mb-3 btn btn-lg btn-secondary' id='button' type='button' [disabled]="isUpdating" (click)="onCancel()">
                    <div class="spinner-wrapper">
                        <span>Atšaukti</span>
                        <mat-spinner *ngIf="isUpdating" [diameter]="20"></mat-spinner>
                    </div>
                </button>

                <button class='mb-3 btn btn-lg btn-success' id='submit' type='submit' [disabled]="isUpdating">
                    <div class="spinner-wrapper">
                        <span>Išsaugoti</span>
                        <mat-spinner *ngIf="isUpdating" [diameter]="20"></mat-spinner>
                    </div>
                </button>
            </div>
        </ng-template>
    </form>
</div>